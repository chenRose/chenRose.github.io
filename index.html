<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/08/hello-world/" class="article-date">
  <time datetime="2017-05-08T08:08:01.394Z" itemprop="datePublished">2017-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/08/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/08/hello-world/" data-id="cj2fuj4qg00012cte2v6fep28" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-IP" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/08/IP/" class="article-date">
  <time datetime="2017-05-08T00:55:29.000Z" itemprop="datePublished">2017-05-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Exercise/">Exercise</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/08/IP/">IP</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="IPЭ��"><a href="#IPЭ��" class="headerlink" title="IPЭ��"></a>IPЭ��</h1><p>##һ �����ص㣺������Ϊ�ġ������ӵ�</p>
<p>###1. ������Ϊ��<br>    ��ʾ�����ܷ���һЩ�������������ṩ�κα�֤���������ṩ�κοɿ��ԣ�һ�ж���Ҫ�����ϲ��������ṩ�ɿ���</p>
<p>###2. �����ӣ�<br>    ��ʾIP���ݱ����ܲ��ᰴ�������ݣ�Ҳ�����ڸ��ƹ����г��ֲ�����</p>
<p>##�� IPV4��IPV6��ͷ��<br>    1.�汾�ֶ�(4bit,ipv4Ϊ4,ipv6Ϊ6������Ψһ��ͬ���ֶ�)</p>
<pre><code>2.IHL(Internetͷ������)ipv4ͷ������(4bit:0��15��32λ����ʾ�������ֽڣ��������Ƶ�����һЩѡ�����p125)IPv6��û������ѡ���Ϊ���ǹ̶���40�ֽڳ���  

3.ToS(Type of Server�����������ֶ�8bit�����ڱ���Ϊ�������ֶΣ�ǰ6λΪ�����ֶ�DS����2λΪ��ʽӵ��֪ͨ�ֶλ���ָʾλ���������ݱ�ת��ʱ���⴦����

4. �ܳ����ֶΣ�16bit��0��65535���ֽڣ���������������Ҫע�⣺
    1.�����ܳ����ֶ��к����壿-&gt;��ΪһЩ��IPv4�ֶεĵͲ�Э�鲻�ܾ�ȷ�����Լ����յ����ݱ���С��
    2.��������·�㲻��Я��̫�������ݣ����ǽ����ֲ��ɸ�С��Ƭ��
    ����������Ҫ���մ���576�ֽڵ�IPv4���ݱ�����IPv6�����Դ��������ӵ���·MTU��С�����ݱ������⣬�ܶ�UDPӦ��Ҳ�Ѵ�С����Ϊ512Byte��
    3.IPv4���ݱ�������Ϊ������С�ķ�Ƭ��ÿ����Ƭ��һ��������IP���ݱ���
    4.IPv6��֧�ַ�Ƭ���䳤���ڸ��س����У����ǲ�����ͷ�����ȣ��������س��ȣ����⣬����һ��Խ�������ݱ�ѡ�
5. ��ʶ�ֶΣ���ʶ��IPv4�������͵����ݱ�16bit����ʶ����һ��IPv4���ݱ��ķ�Ƭ����֮�����Ļ��б�ע־��13bit�ķ�Ƭƫ�ơ�

6. TTL��������(������·���������ޣ�ÿ����һ���ͼ�1��Ȼ����0ʱ������������ʹ��ICMP��Ϣ֪ͨ)

7. Э���ֶΣ���ʾ���ݱ�����Ч���ز��ֵ��������ͣ����õ�ΪUDP17,TCP6,�����ṩ�˶�·�ֽ��Ĺ��ܣ�ʹ�ÿ���Я������Э�����͵���Ч�غɡ�p127��һ��
8. ͷ��У���ͣ�IPv4������ֻ����ͷ����У���ͣ������������غɡ����ˣ���Ҫ��Я����Э��ͨ���Լ��ļ������������ɼ��顣IPv6û�������ֶΣ���������Ϊ�����߲�Э�����Ѿ�����Ӧ�ļ������ƣ������Ѿ�����������Ϊ����Ҫ���ݡ���ͷ���Ĵ���λ�����Ƚ��ټ�����ϸ��p127

9.InternetУ���ͣ��;���CRCѭ������У�鲻ͬ

����Ϊ������һ��16λ�ֵ����У�������16λ�����Ʒ����͡��ڼ�������У����ʱ��������Ҫ��������Ҳ����ȥ����ʱ����������ǰ��������Ϊ0��Ȼ������������������д�����ֶΡ�
������֤ʱ����������У���ͣ������õ���ֵΪ0�Ļ�����˵��û�д��󡣷��򣬳��������ǲ��������κεĲ�����Ϣ��
��һ�ָ��򵥵ķ�����p128��

10. DS�ֶ���ECN�ֶε����壨��ʱ����IPv4��ΪTOS�ֶΣ�����IPv6�ֶ���Ϊ���������ֶΣ�

6λDS�ֶ�Ϊ64��DSCP������֪ͨ��·�����Խ��յ����ݽ���ת���������⴦������ͬ���͵�ת��������ʾΪÿ����Ϊ��PHB ��ѽ����ϸ�Ŀ�p130�ɣ�
AF��EF���ṩ�ľ�����Ϊ�������á�

11. IPv4�е�ѡ�(����Ϊ40���ֽ�)����������IPv4ͷ���Ĵ�С���ƺ����صİ�ȫ���⣬��һЩ�ǲ����õġ�������IPv6���h�������ǻ���ͷ����һ���֣���������չͷ���С�IP·�������յ�һ������ѡ�������ݱ�ʱ����Ҫ�����������⴦��������ͨ�������ն�����������IPv6����չͷ����

�ܽ�һ�£���������ֻ��һ��λ����ͬ���ֶΣ�Ϊ�汾�ֶ�IPv4Ϊ4��IPv6Ϊ6��
IPv4��IHL�ֶΣ���IPv6û�У���Ϊ���ǹ̶��ġ�
IPv4��IPv6����һ��DS�ֶκ�һ��ECN�ֶΣ�����λ�ò�ͬ��
IPv4��һ���ܳ��ȣ���������ͷ���ĳ��ȣ�����IPv6�еĸ��س�����û�а���ͷ���ĳ��ȣ���Ȼ��������չͷ���ĳ��ȡ�
IPv4��һ��Э���ֶΣ���IPv6û�У�����������ͨ����IPv6����һ��ͷ���ֶ���ȷ��
IPv4֧�ַ�Ƭ����������4���ֽڵ�32λ��������������Щ��Ϣ����������û�������ֶεģ����������Ĳ�ͬ�ķ�Ƭ��ʽ���й�����
IPv4��һ��TTL�������ڣ�����6�У� �������������ơ�
IPv4��ͷ��У���ͣ���IPv6û��
IPv6��һ������һ��ͷ�� ���ֶΣ�8λ������IPv4��û�С�������˵����IPv6ͷ��֮������������չͷ���Ĵ��ں����ͣ�����������Э������ͷ����
</code></pre><p>##����IPv6��չͷ��</p>
<pre><code>IPv6�γɵ�ͷ��������ͷ��IPv6ͷ������������һЩ��չͷ�����Լ���һЩ������Э��ͷ����

HD:H�Ƿ��龭����ÿһ��·����������ѡ���D��Ŀ�ĵ�ѡ��ͷ����
</code></pre><p>###1.  IPv6ѡ�<br>    ����ѡ�����ڣ����Է�������ѡ��HOPORT��Ŀ�ĵ�ѡ��(��Я����HD��չͷ����)����������ͬ�ĸ�ʽ��</p>
<pre><code>**TLV type-length-value**

1. IPv6ѡ����Ҫ��8�ֽڶ��룬����������1������n������
2. ֮ǰ�h����**�������ݱ�**��
3. ������װ���ƣ�p136�������ķ�װ���Եݹ飬��ѡ���������Ʒ�װ�Ĳ�����
4. ·��������
5. ��������
6. CALIPSO����ȫ���صģ�
7. ������ַ
</code></pre><p>###2. ����IPv6��չͷ��<br>·��ͷ������RH0�����������Ѿ�����RH2��������ָ�����ݱ�ͨ��������·��<br>    ������RH0�����Ѿ��������ˣ����ڰ�ȫ�����Ŀ��ǣ�����RH2�򱻶���Ϊ���ƶ�IP��ͬʹ��<br>    ע�⣬��RH0�У�IPv6����ͷ���е�Ŀ��IP��ַ�ֶα��޸�Ϊ�������ݱ�ת������һת����ַ</p>
<pre><code>·��ͷ����ת���Ĺ����еı仯Ҳ��ͦ����˼�ġ����ȣ���Ҫע�����ǣ�ָ����·��������һ�����ģ����ǿ���ָֻ��һ������Ҫ������·�ɼ��ɣ�����������Ҫ����������·�ɹ�����IPv6ͷ���е�dest��������������dest֮�󣬸���left����ʣ�ಿ�ֵ�ֵ��ȷ����һ����IPv6��ַ��Ȼ����������ַ��IPv6ͷ���е�dest����������������������·��ͷ���еĵ�ַ���Ѿ�û�����ˣ�����ʱ�򣬲�����������ɾ���������ǵݼ�����left��������..��һ�ν�����Ӧ��ָ����һ��·���ˡ�

���⣬RH0�����⣬��p139����������·��ͷ���Ķ���λ��ָ����ͬ��ַ�������ܵ���������һ���ض�·���ϵ���̨���߶�̨������·����֮���ظ�ת�����������������ؿ��ܻ�����������ͷ�ض�·������������ͬ·���ϵ����������������������ɸ��š�
</code></pre><p>��Ƭͷ������ǰ�h��IPv6�����з�Ƭ����ʵ�ǲ��Եġ�ֱ�ӵ����h��Ӧ�������ķ�Ƭ�����ֶβ����ֵ�IPͷ����������Ϊ����չͷ�������ˡ����⣬���ķ�Ƭ��ʽ��IPv4�м����Ĳ�ͬ����p139 </p>
<p>####2.��Ƭͷ���ĸ�ʽ��p140</p>
<p>####3.��Ƭ�Ĺ��̣�<br>    ���ȣ���Ƭ�в��ɷ�Ƭ���ֺͿɷ�Ƭ���ֵ�����</p>
<pre><code>Ȼ����ÿ����Ƭ������Ϊ��ԭ�����Ĳ��ɷ�Ƭ���ֵĸ���(��Ҫ�޸ĵ������ĸ��س����ֶΣ�ע�⣬��Ƭͷ��8���ֽ�Ҳ��Ҫ�����ڣ����е�ͷ������Ҫ��¼���ڣ�)��һ����Ƭͷ������Ƭ��ƫ�ơ���ʶ����M��־�ȣ���8���ֽڣ��������Ƿ�Ƭ���غ����ݡ�

ע�⣬ƫ������8�ֽ�Ϊ��λ�ģ����Է�Ƭ�ĳ���Ӧ��Ҳ����8�ֽ���Ϊ�߽����еġ�����һ����Ƭ���ܲ��ǣ�Ҳ������(������ʱ��Ҳ����ȥ������������ƫ����)��

���󣬽��շ��Կ��ܷǰ������������յ����еķ�Ƭ��������������ԭʼ�����ݣ��������ϲ���Э�鴦����

��Ƭ�������ӵ��ֽ���Ϊ������Ƭ����-1��*���ɷ�Ƭ���ֵĳ���+��Ƭ����*8����Ƭͷ���ĳ���

��·���ϵĿ�����������һ��14�ֽڵ�ͷ����4�ֽڵ�CRC��18�ֽڣ�ÿ��һ����Ƭ�Ͷ���Щ�ֽڡ���
</code></pre><p>##�ġ�IP ת��</p>
<pre><code>1. ����ֱ���������������㵽�㣩���߹������磨��̫��������ֱ�ӷ��͵�Ŀ�ĵ�
2. ���򣬷��͵�Ĭ��·����

IPЭ��ģ������һ�����ݱ�����������ͬһ��Ҫ��һ�ϲ�Э�飬��TCP,UDP�ȣ�Ҳ���������������ӿڵ����ݱ���
�����Ǻ��ߣ��������������ӿڵ����ݱ���IP�����ȼ���Ŀ�ĵ�ַ�Ƿ�Ϊ�Լ��ĵ�ַ�������������Խ�����������һ��������ַ����IP�㲥�����鲥��ַ���������ǣ��򽫸���IPЭ���е�Э���ֶΣ�IPv4�е�Э���ֶΣ�������IPv7�е���һͷ���ֶ�ָ����Э��ģ�飩��ת����������������ת�����Լ��ģ���ô�͸���IP����һ��·��������һ��������ȷ����һ���Ĳ����ˣ�������·������������ת�����������ǣ����ܻᱻĬĬ�ض�����
</code></pre><p>###1. ת������Ϣ��<br>    Ŀ�ĵأ�Ĭ��·�ɿ�����Ϊ0��������·�ɿ���Ϊ�������ȵ�IP��ַ��<br>    ���룺�����ݱ�Ŀ��IP��ַ��λ�룬Ȼ����ת������Ŀ�е�Ŀ�ĵؽ��бȽϡ�<br>    ��һ�������ݱ�Ӧ��ת�����ĸõ�ַ��<br>    �ӿڣ�ȷ�������ݱ����͵���һ���������ӿڣ���ѡ������һ�������ӿ�ת����ȥ������ת��ϵͳҲ��IP���ݱ��ķ��ͷ���Ҳ��������ѡ��ԴIP��ַ����</p>
<pre><code>���⣬ʹ��һЩ·��Э��������ȷ��·�ɱ�����ȷ���ܲ����л�·�ɡ�����
</code></pre><p>###2. IPת���ж�<br>����1����ƥ����<br>����2������ƥ����(mask��1������������һ������<br>��������û���ҵ�ƥ���ģ�������һ�����������ɴ�Ĵ�����ͨ������ICMP���ظ��������ݱ���������<br>������ʱ��Ҳ���ܻ��ҵ�������ͬ��ƥ�䣬��ʱ�����ܻ�ѡ����һ��ƥ���Ҳ���ܻ�����һЩ�����ӵ�·��ƽ�⸺�ػ��߲��������ȡ�<br>����</p>
<p>###3. ���ֽ�����ʽ��ֱ�ӽ���(����ϵͳʹ����ͬ������ǰ׺)�ͼ��ӽ���p147</p>
<pre><code>��Ҫע�����ǣ����ӽ����У���Ҫ��������·��������ʱ����IP��ַ��Ӧ��ǰ����ԴIP��Ŀ��IP�����ǵͲ��ĵ�ַ�ǲ���Ӧ�ġ��Ͳ���ַ��������̨������ÿ���Ļ����Ͻ��հ������ݱ���֡!!!!

���������һ����·������˽�е�ַ�͹��е�ַ������Ҫ����һ����ַת�����š���������˽�������ϰ����ݱ����͵�Ĭ�����غ�������Ҫһ��NATת�����ѵ�ַת��Ϊ���е�ַ��������������һЩϸ�ڡ�
��������NATת����ת���ѹ��������󣬾Ͳ���Ҫ�����ٽ���NAT�ˣ������ء���ʱ���������ܻ����ڶ���Ĭ��·�����ˡ�
���⣬IPv6ʹ�õ��ھӷ���Э�飬��������ȷ��������һ���ĵͲ���ַ�� 

���� ��IPv6��������·���ص�ַ��ȫ����ַ������ǰ�ߣ���ֻ������ͬһ����·�ϡ����⣬���е���·���ص�ַ������ͬ��IPv6ǰ׺��fe80::/10,�ڷ���һ��Ŀ�ĵ�Ϊ��·���ص�ַ�����ݱ�ʱ��һ̨����������������Ҫ�û�������ʹ���ĸ��ӿڡ�

tracert���Ը��ٵ�һ��Ŀ�ĵص�·������ʹ�õ���UDP+ICMP��

���⣬MPLS,��Э����ǩ����������һ����·�����磬���ܹ����ض���������Э�顣
</code></pre><h2 id="�塢IP���ݱ�����������"><a href="#�塢IP���ݱ�����������" class="headerlink" title="�塢IP���ݱ�����������"></a>�塢IP���ݱ�����������</h2><h3 id="1-����gʽ��o����gʽ��������gʽp152"><a href="#1-����gʽ��o����gʽ��������gʽp152" class="headerlink" title="1. ����ģʽ��ǿ����ģʽ��������ģʽp152"></a>1. ����ģʽ��ǿ����ģʽ��������ģʽp152</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/08/IP/" data-id="cj2fuj4q000002ctertp6gs05" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Exercise/">Exercise</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/05/08/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/05/08/IP/">IP</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>